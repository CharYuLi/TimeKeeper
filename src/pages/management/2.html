<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>管理 - 积分系统</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','PingFang SC',sans-serif;background:#f5f5f5}
.container{width:375px;height:667px;margin:0 auto;background:#fff;display:flex;flex-direction:column}
.header{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;padding:15px;display:flex;align-items:center}
.back{font-size:20px;margin-right:10px;cursor:pointer}
.title{flex:1;font-size:18px;text-align:center;font-weight:bold}
.nav-tabs{display:flex;background:#fff;border-bottom:1px solid #e5e5e5}
.tab{flex:1;padding:12px 0;text-align:center;font-size:15px;cursor:pointer;position:relative}
.tab.active{color:#667eea}
.tab.active::after{content:'';position:absolute;bottom:0;left:50%;transform:translateX(-50%);width:30px;height:3px;background:#667eea}
/* 学生列表 */
.student-list{flex:1;padding:0 15px;overflow-y:auto}
.student-item{display:flex;align-items:center;padding:15px;border-bottom:1px solid #f0f0f0;cursor:pointer;border-radius:12px;margin:8px 0;background:#fafafa}
.avatar{width:50px;height:50px;border-radius:50%;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;display:flex;align-items:center;justify-content:center;font-size:20px;margin-right:15px}
.info{flex:1}
.name{font-size:16px;font-weight:bold;color:#333}
.points{font-size:14px;color:#667eea}
/* 今日照片 */
.upload-area{flex:1;padding:20px;display:flex;flex-direction:column;align-items:center}
.upload-box{width:80%;height:200px;border:2px dashed #667eea;border-radius:20px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all .3s}
.upload-box:hover{background:#f0f0ff}
.upload-icon{font-size:48px;color:#667eea;margin-bottom:10px}
.upload-text{font-size:16px;color:#667eea}
.preview-img{width:100%;height:200px;border-radius:20px;object-fit:cover;margin-top:10px}
.desc-input{width:80%;padding:10px;border:1px solid #e5e5e5;border-radius:15px;margin-top:10px;font-size:14px}
.upload-btn{width:80%;padding:15px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;border:none;border-radius:25px;margin-top:20px;font-size:16px;cursor:pointer}
.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:10}
.modal-content{position:absolute;bottom:0;left:0;right:0;background:#fff;padding:20px;border-top-left-radius:25px;border-top-right-radius:25px}
.close{position:absolute;top:10px;right:15px;font-size:24px;cursor:pointer}
</style>
</head>
<body>
<div class="container">
  <div class="header">
    <div class="back" onclick="history.back()">‹</div>
    <div class="title">管理</div>
  </div>

  <!-- 一级功能导航 -->
  <div class="nav-tabs">
    <div class="tab active" onclick="switchTab('rank')">积分排行榜</div>
    <div class="tab" onclick="switchTab('students')">学生列表</div>
    <div class="tab" onclick="switchTab('upload')">今日照片</div>
  </div>

  <!-- 积分排行榜（简洁列表） -->
  <div id="rank" class="student-list">
    <div class="student-item" onclick="openDetail('rank')">
      <div class="avatar">1</div>
      <div class="info">
        <div class="name">小红</div>
        <div class="points">450 积分</div>
      </div>
    </div>
    <div class="student-item" onclick="openDetail('rank')">
      <div class="avatar">2</div>
      <div class="info">
        <div class="name">小明</div>
        <div class="points">428 积分</div>
      </div>
    </div>
  </div>

  <!-- 学生列表（圆角列表） -->
  <div id="students" class="student-list" style="display:none">
    <div class="student-item" onclick="openStudent('小明')">
      <div class="avatar">M</div>
      <div class="info">
        <div class="name">小明</div>
        <div class="points">428 积分</div>
      </div>
    </div>
    <div class="student-item" onclick="openStudent('小红')">
      <div class="avatar">H</div>
      <div class="info">
        <div class="name">小红</div>
        <div class="points">450 积分</div>
      </div>
    </div>
  </div>

  <!-- 今日照片（圆角上传） -->
  <div id="upload" class="upload-area" style="display:none">
    <div class="upload-box" id="uploadBox" onclick="choosePhoto()">
      <div class="upload-icon">📸</div>
      <div class="upload-text">点击或拖拽上传今日照片</div>
    </div>
    <img id="preview" class="preview-img" style="display:none"/>
    <input class="desc-input" placeholder="添加描述..." />
    <button class="upload-btn" onclick="uploadPhoto()">上传并发布</button>
  </div>

  <!-- 悬浮按钮 -->
  <div class="floating-btn" onclick="showModal()">+</div>

  <!-- 添加积分/日志模态框 -->
  <div class="modal" id="modal">
    <div class="modal-content">
      <div class="close" onclick="closeModal()">×</div>
      <div class="form-group">
        <label>学生</label>
        <input type="text" id="studentName" placeholder="选择学生">
      </div>
      <div class="form-group">
        <label>积分变动</label>
        <input type="number" id="points" placeholder="+/- 积分">
      </div>
      <div class="form-group">
        <label>日志描述</label>
        <input type="text" id="desc" placeholder="今日表现">
      </div>
      <div class="btn-group">
        <button class="btn-secondary" onclick="closeModal()">取消</button>
        <button class="btn-primary" onclick="submitForm()">确认</button>
      </div>
    </div>
  </div>
</div>

<script>
const tabs = ['rank','students','upload'];
function switchTab(id){
  tabs.forEach(t=>document.getElementById(t).style.display=t===id?'flex':'none');
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  event.target.classList.add('active');
}
function openDetail(type){alert('打开 '+type)}
function openStudent(name){alert('打开学生 '+name)}
function choosePhoto(){
  // 模拟选择图片后预览
  document.getElementById('preview').src='https://dummyimage.com/300x200/667eea/fff&text=今日照片';
  document.getElementById('preview').style.display='block';
  document.getElementById('uploadBox').style.display='none';
}
function uploadPhoto(){alert('已上传')}
function showModal(){document.getElementById('modal').style.display='block'}
function closeModal(){document.getElementById('modal').style.display='none'}
function submitForm(){alert('已提交');closeModal()}
</script>
</body>
</html>